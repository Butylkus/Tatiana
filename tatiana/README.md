# Татьяна
Представьте себе не минуту, что в вашем доме завелась женщина, которая по вашей команде или по расписанию включает и выключает различные электроприборы.

Знакомьтесь - Татьяна!

Простой и понятный программно-аппаратный центр для системы "Умный дом". Скрипт умеет работать с модулями реле, кнопками и даже через web-интерфейс (в разработке).

На платформе Raspberry Pi 2 и выше поддверживает до 26 устройств. Этого достаточно для управления освещением в трёхкномнатной квартире, например (13 ламп и 13 кнопок). Может включать и выключать питание устройств по расписанию (водонагреватель, например).

И вообще скрипт няшка =)

Правовая основа
----
Это программный продукт, предназначенный для использования и самостоятельной модификации всеми желающими того членами OpenSource-сообщества.

Идея и базовая реализация: Алексей Бутылкус (https://vk.com/butpub
                                             
Веб-интерфейс: ???

Как это работает
----
Данный скрипт предназначен для включения и выключения определённых контактов GPIO по плану и/или внешнему сигналу ("железная" кнопка, программный интерфейс, Etc).
Файлы статусов и планов используются вместо СУБД, чтобы не загружать и без того не самый мощный процессор лишним демоном.
Статус-файлы лучше не переименовывать, создавать руками не нужно, они создаются автоматически при задействовании соответствующего пина в программе.
Файлы планов можно называть как угодно для персонального удобства и донастройки в собственной системе (в размножаемом блоке планировщика просто указать правильные имена).

В идеале лучше бы использовать именно СУБД для интеграции с другими скриптами, например, фронтендом на PHP.

Установка, первичная настройка, автономизация
----
Для установки необходимо сделать несколько простых шагов. Приведён пример для путей по умолчанию, их можно менять по своему усмотрению
    1. mkdir /home/pi/.tatiana
    2. mkdir /home/pi/.tatiana/status
    3. chown -R pi:pi /home/pi/.tatiana
    4. chmod -R +777 /home/pi/.tatiana

Чтобы скрипт запускался автоматически при старте системы и висел как служба в системе (и не прерывался при разлогине, например), нужно сделать:
    5. Добавить полный путь к скрипту в файл /etc/rc.local перед "exit 0"

Включение и выключение устройств по расписанию
----
Каждый выходной пин может работать не только по нажатию кнопки, но и по плану. По умолчанию планы должны находиться в /home/pi/.tatiana/plans/*
Создайте по два плана: на включение и на выключение. Например, в базовом исходном коде уже прописан вызов функции plan_switch() с очевидными именами планов

